# EOE|id|code|order_id   |buy|qty    | price          | timestamp| instr_ascii                  | instr_bin|instr_id|data0         | data1  | data2

# scenario 0 : test tick2cancel
# trigger on trade summary when trade summary @ 12$. The books are updated to 10$ on the ask side and the instrument data is configured to trigger with 2$

# 000000174876E800 is 10$ with 10-digit precision
# 0000001BF08EB000 is 12$

# we want to trigger on instrument 0x14
# trade summary price 12$

# these messages are here to ensure the system is properly configured before injecting real data
# in real life, problem does not happen
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000

# no trigger here because books are empty
# severals opcode Trade_summary with 1 instr_id OK and qty OK
01 00 95 0000000000000000 00 00000030 000000174876E800 00000001 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 64 0000000000000000 00 00000000 000000174876E800 00000002 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 64 0000000000000000 00 00000123 000000174876E800 00000003 00000000000000000000000000000000 00000000 00000015 000000000000FFFF 00000000 0000000000000000
01 00 64 0000000000000000 00 00001459 000000174876E800 00000004 00000000000000000000000000000000 00000000 00000016 000000000000FFFF 00000000 0000000000000000
01 00 64 0000000000000000 00 00000026 000000174876E800 00000005 00000000000000000000000000000000 00000000 00000017 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000006 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# could fire a trigger, but won't because books are empty !
01 00 95 0000000000000000 00 00000030 000000174876E800 00000007 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 64 0000000000000000 00 00000000 0000001BF08EB000 00000008 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000009 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# book updates to be ignored by the book updater
# pkt with bookupdate wrong level (level = 1) : should not update the book !

01 00 95 0000000000000000 00 00000030 000000174876E800 0000000A 00000000000000000000000000000000 00000000 00000002 8971643210320221 00000000 0000000000000000
01 00 C1 0000000000000000 01 00000000 0000000000000100 0000000b 00000000000000000000000000000000 00000000 00000014 000000000000FFF5 00000000 0000000000000001
01 00 C1 0000000000000000 00 00000000 0000000000000200 0000000c 00000000000000000000000000000000 00000000 00000014 000000000000FFF5 00000000 0000000000000001
01 00 97 0000000000000000 00 00000030 000000174876E800 0000000d 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000

# could fire a trigger, but won't because books are still empty !
01 00 95 0000000000000000 00 00000030 000000174876E800 0000000e 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 64 0000000000000000 00 00000000 0000001BF08EB000 0000000f 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000010 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# update the books on ask side with price 10$ for instrument 0x14
01 00 95 0000000000000000 00 00000030 000000174876E800 00000011 00000000000000000000000000000000 00000000 00000002 8971643210320221 00000000 0000000000000000
01 00 C1 0000000000000000 00 00000000 000000174876E800 00000012 00000000000000000000000000000000 00000000 00000014 000000000000FFF5 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000013 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000

# trade summary for instrument 0x14 with price 12$ (120 000 000 000) on book level = 0, sell/ask side
# now trigger because we configured the system to trigger with a margin of 2$
01 00 95 0000000000000000 00 00000030 000000174876E800 00000014 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
01 00 64 0000000000000000 00 00000000 0000001BF08EB000 00000015 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000016 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# trade summary at 13$, won't trigger anything
01 00 95 0000000000000000 00 00000030 000000174876E800 00000017 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
# trade summary for instrument 0x14 with price 11$ (110 000 000 000) on book level = 0, sell/ask side
01 00 64 0000000000000000 00 00000000 000000199C82CC00 00000018 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000019 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# update the books on buy side with price 9$ for instrument 0x14
01 00 95 0000000000000000 00 00000030 000000174876E800 00000020 00000000000000000000000000000000 00000000 00000002 8971643210320221 00000000 0000000000000000
01 00 C1 0000000000000000 01 00000000 00000014F46B0400 00000021 00000000000000000000000000000000 00000000 00000014 000000000000FFF5 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000022 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000


# trade summary at 5$, will trigger on the bid side
01 00 95 0000000000000000 00 00000030 000000174876E800 00000030 00000000000000000000000000000000 00000000 00000002 0102030405060708 00000000 0000000000000000
# trade summary for instrument 0x14 with price 4.50$  on book level = 0, buy side
01 00 64 0000000000000000 00 00000000 0000000A7A358200 00000031 00000000000000000000000000000000 00000000 00000014 000000000000FFFF 00000000 0000000000000000
01 00 97 0000000000000000 00 00000030 000000174876E800 00000032 00000000000000000000000000000000 00000000 00000004 0000000000000000 00000000 0000000000000000

